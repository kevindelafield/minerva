<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="./bootstrap4/css/bootstrap.min.css">
    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="./jquery-3.4.1.min.js"></script>
    <script src="./popper.min.js"></script>
    <script src="./bootstrap4/js/bootstrap.min.js"></script>

    <title>Wi-Fi Setup</title>
	<style>
		::-webkit-scrollbar{display:none}
	</style>
  </head>
  <body>
    <script>

      function saveChimeType()
      {
      
      var ct = $('#chimeType option:selected').val();
      
      var json = '{ "chimeType" : ' + ct + ' }';
      
      $.ajax({
      type: 'POST',
      url: '/wifi/SetChimeType',
      data: json,
      dataType: 'json',
      success: function (data)
      {
      if (data['errorCode'] == 0)
      {
      alert('Chime Type Saved');
      }
      else
      {
      alert('Error saving chime type');
      }
      }
      });
      }
    </script>

        <!-- Begin page content -->
      <div class="container">
          <p></p>
       

            <div class="row">
                    <div class="col">
                    </div>
                    <div class="col-8">
                            <div class="row">
                                    <div class="col-md"><h4>Chime and Wi-Fi Setup</h4> </div>
                                    <div class="col-md"></div>
                                    <div class="col-md">
                                            <div class="dropdown">
                                                    <button class="btn btn-outline-dark dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                                      English
                                                    </button>
                                                    <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                                                      <a class="dropdown-item" href="#">English</a>
                                                    </div>
                                                    <!-- <button type="button" class="btn btn-outline-dark"id ='UPGRADE'>UPGRADE</button> -->
                                                  </div>
                                    </div>
                                </div>
                    </div>
                    <div class="col">
                    </div>
            </div>
            <p></p>
            <div class="row">
                <div class="col"> 
                </div>
                <div class="col-8">
                    <div class="row">
                        <div class="col-md">
                          <h6>Chime Type</h6>
                          <select id="chimeType">
                            <option value="0">None</option>
                            <option value="1">Mechanical</option>
                            <option value="2">Digital</option>
                          </select>
                          <button type="button" class="btn btn-secondary btn-sm" id='saveChimeType' onClick="saveChimeType()">Save</button>
                        </div>
                        <div class="col-m align-items-end">
                                <div class="btn-group" role="group" aria-label="Basic example">
                                        <button type="button" class="btn btn-secondary btn-sm" id ='SCAN_NETWORKS'>SCAN NETWORKS</button>
                                        <button type="button" class="btn btn-secondary btn-sm" id ='SETUP_MANUALLY'>SETUP MANUALLY</button>
                                      </div>
                        </div>

                    </div>
                </div>
                <div class="col">
                </div>

            </div>
        
            <p></p>
            <div class="row">
                <div class="col"> 
                </div>
                <div class="col-10">
                     <div class="card" id='manually_div'>
                         <div class='card-body'>
                                            <div class="row">
                                              <div class="col">
                                                <input type="text" class="form-control" id ='ssid_field' placeholder="Network Name">
                                                <p></p>
                                                <input type="password" class="form-control" id ='password_field' placeholder="Password">
                                                <p></p>
                                                <label for="security_field">Security</label>
                                                <select class="form-control" id="security_field">
												  <option value = 'Open'>OPEN</option>
                                                  <option value = 'WEP'>WEP</option>
                                                  <option value = 'WPA'>WPA</option>
                                                  <option value = 'WPA2'>WPA2</option>
                                                </select>
                                                <p></p>
                                                <button type="button" class="btn btn-primary" id='manually_join_button'>JOIN</button>
                                              </div>
                                            </div>
                                    </div>
                                </div>
                    <div class="card" id='scan_div'>
					<li class="list-group-item" aria-disabled="false"><div class="row"><div class="col-6"><label class="btn-sm">Network Name</label></div><div class="col-2"><label class="btn-sm">Security</label></div><div class="col"></div><a href="#" class="btn-sm" id='refresh_button'>Refresh</a></div></li>
                            <div style=" HEIGHT: 400px; overflow: scroll">
                            <div class="list-group" id ='ap_list'>
								 
                            </div></div>
                            
                    </div>
                </div>
                <div class="col">
                </div>
                
            </div>
           
            
            <div class="row">
                    <div class="col"> 
                    </div>
                    <div class="col-8">
                        <div class="row">
                            <div class="col"></div>
                            <div class="col-8">
                                   
                            </div>
                            <div class="col"></div>
    
                        </div>
                    </div>
                    <div class="col">
                    </div>
    
                </div>
      </div>



<!-- Modal -->
<div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalCenterTitle">title</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
            <label for="InputPassword">Password</label>
            <input type="password" class="form-control" id="InputPassword" placeholder="Password">
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-primary" id='join_button'>JOIN</button>
        <button type="button" class="btn btn-secondary" data-dismiss="modal">CANCEL</button>
      </div>
    </div>
  </div>
</div>

<script src="./alarm.js"></script>

<script>
      $.ajax({
      type: 'GET',
      url: '/wifi/GetChimeType',
      success: function (data)
      {
         if (data['errorCode'] == 0)
         {
            $('#chimeType').val(data['chimeType'].toString());
         }
         else
         {
           alert('Error loading chime type');
         }
      }
      });

</script>
    </body>
</html>

